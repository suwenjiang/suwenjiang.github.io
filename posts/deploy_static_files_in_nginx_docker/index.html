<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Using ngix docker to host static files - Even - A super concise theme for Hugo</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="mjiang" /><meta name="description" content="Induction As needs to work in a new role for realse management. Recently, I&amp;rsquo;ve been trying to know about some main CI/CD tools in the market, and container technology as well. When talking about the container, invetably we have to mention the Docker. Docker in some way it&amp;rsquo;s almost equals to container technology.
" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.58.3 with theme even" />


<link rel="canonical" href="http://localhost:1313/posts/deploy_static_files_in_nginx_docker/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.b5a744db6de49a86cadafb3b70f555ab443f83c307a483402259e94726b045ff.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Using ngix docker to host static files" />
<meta property="og:description" content="Induction

As needs to work in a new role for realse management. Recently, I&rsquo;ve been trying to know about some main CI/CD tools in the market, and container technology as well.
When talking about the container, invetably we have to mention the Docker. Docker in some way it&rsquo;s almost equals to container technology." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/deploy_static_files_in_nginx_docker/" />
<meta property="article:published_time" content="2019-10-21T16:10:17+10:00" />
<meta property="article:modified_time" content="2019-10-21T16:10:17+10:00" />
<meta itemprop="name" content="Using ngix docker to host static files">
<meta itemprop="description" content="Induction

As needs to work in a new role for realse management. Recently, I&rsquo;ve been trying to know about some main CI/CD tools in the market, and container technology as well.
When talking about the container, invetably we have to mention the Docker. Docker in some way it&rsquo;s almost equals to container technology.">


<meta itemprop="datePublished" content="2019-10-21T16:10:17&#43;10:00" />
<meta itemprop="dateModified" content="2019-10-21T16:10:17&#43;10:00" />
<meta itemprop="wordCount" content="538">



<meta itemprop="keywords" content="docker,nginx," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Using ngix docker to host static files"/>
<meta name="twitter:description" content="Induction

As needs to work in a new role for realse management. Recently, I&rsquo;ve been trying to know about some main CI/CD tools in the market, and container technology as well.
When talking about the container, invetably we have to mention the Docker. Docker in some way it&rsquo;s almost equals to container technology."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Even</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Even</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
  <div class="post-content">
    <h2 id="induction">Induction</h2>

<p>As needs to work in a new role for realse management. Recently, I&rsquo;ve been trying to know about some main CI/CD tools in the market, and container technology as well.
When talking about the container, invetably we have to mention the <strong>Docker</strong>. Docker in some way it&rsquo;s almost equals to container technology.</p>

<p>Acutally, couple of years ago, was curious about what <strong>Docker</strong> would help to my daily work, and was trying to setup docker environment multiple times, however, everytime gave up finally due to different kinds of reasons, For example, initiall there was no windows version docker, it was a bit tricky to download the sources when configuing a linux docker, especially i was in China back then, after windows version relased i once got stuck at how to share/mount windows directory to linux docker container. Anyway, I was prevented succesfully utilising docker for years.</p>

<p>This time i&rsquo;d like to have a try again, a simple case comes to my mind to explore the docker functionalities that is using nginx docker image to host static files locate in my host machine with window OS.</p>

<p><strong>Basic idea is to mount a windows folder with static file into a nginx linux container.</strong> Pretty simple though.</p>

<p>This post is finished based on environment as:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">Docker desktop community version: 2.1.0.3(38240)
Windows 10</pre></td></tr></table>
</div>
</div>
<h2 id="detailed-steps">Detailed steps</h2>

<ul>
<li>create a working folder</li>
</ul>

<blockquote>
<p>D:\dockerProjects\nginx</p>
</blockquote>

<p>WithIn the <strong>nginx</strong>, create a folder named <strong>content</strong> assuming all the static files in this folder will be hosted.</p>

<ul>
<li>Put a static file within <strong>content</strong> diretory</li>
</ul>

<p><strong>greeting.txt</strong>(&ldquo;Hello world&rdquo;) with only one line text created.</p>

<ul>
<li>mount <strong>content</strong> folder and start the container</li>
</ul>

<blockquote>
<p>docker run &ndash;name test_nginx -d -p 4444:80 -v D:\dockerProjects\nginx\content:/usr/share/nginx/html:ro -d nginx</p>
</blockquote>

<p><img src="https://images.legooz.com/start_the_container.PNG" alt="" /></p>

<p>About commandline doing things:</p>

<ol>
<li>mount the host machine location (D:\dockerProjects\nginx\content) to linux container location(/usr/share/nginx/html)</li>
<li>map host port(4444) to linux container port(80)</li>
<li>create a container with name <strong>test_nginx</strong></li>
<li>start the container</li>
</ol>

<ul>
<li>On the host machine, browser to <a href="http://localhost:4444/greetings.txt">http://localhost:4444/greetings.txt</a></li>
</ul>

<p><strong>Hello world</strong> is expected to display if everything goes fine.</p>

<p>Creating a container, there is another way by using <strong>Dockerfile</strong>, What if we&rsquo;d like to use the <strong>Dockerfile</strong> to create the container?</p>

<ul>
<li>Prepare a content file</li>
</ul>

<p>In working directory(<strong>D:\dockerProjects\nginx</strong>) create a content folder <strong>content2</strong> and put <strong>greetings2.txt</strong> within the folder.</p>

<ul>
<li>Create a dockerfile</li>
</ul>

<p>Create  a text file, rename the file name to <strong>Dockerfile</strong> without any extension in working directory.</p>

<ul>
<li><p>Edit the dockerfile
Put below lines into the file and save</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><span class="lnt">1
</span><span class="lnt">2
</span></pre></td>
<td class="lntd">
<pre class="chroma">FROM nginx
COPY content2 /usr/share/nginx/html</pre></td></tr></table>
</div>
</div></li>

<li><p>Run the command to build a image based on the <strong>Dockerfile</strong></p></li>
</ul>

<blockquote>
<p>docker build -t nginx5 .</p>
</blockquote>

<p>In this step, the <strong>Dockerfile</strong> will be validated line by line top-down.</p>

<p><img src="https://images.legooz.com/docker_build.PNG" alt="image" /></p>

<ul>
<li>Start the image with a container</li>
</ul>

<blockquote>
<p>docker run -p 4445:80 -d nginx5</p>
</blockquote>

<p>Now ideally, we should able to access the <a href="http://localhost:4445/greeting2.txt">http://localhost:4445/greeting2.txt</a>.</p>

<p>Quite possible we&rsquo;d like to enter into nginx linux container, e.g, checking whether or not the static files successfully mounted to the specified location (<strong>/usr/share/nginx/html</strong>).</p>

<blockquote>
<p>docker exec -it container_name bash</p>
</blockquote>

<p>As needs to specify the container name would like to enter in,  we need to find out the container name that image <strong>nginx5</strong> sits in with command line:</p>

<blockquote>
<p>docker ps</p>
</blockquote>

<p><img src="https://images.legooz.com/docker_ps.PNG" alt="image" /></p>

<p>Replacing the <strong>container_name</strong> and run the command line</p>

<blockquote>
<p>docker exec -it dazzling_bartik bash</p>
</blockquote>

<p>Now a linux bash mode started.</p>

<h2 id="more-reading">More Reading</h2>

<p><a href="https://hub.docker.com/_/nginx">nginx docker image help</a></p>
  </div>
</article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:your@email.com" class="iconfont icon-email" title="email"></a>
      <a href="http://localhost:1313" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
      <a href="http://localhost:1313" class="iconfont icon-twitter" title="twitter"></a>
      <a href="http://localhost:1313" class="iconfont icon-facebook" title="facebook"></a>
      <a href="http://localhost:1313" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="http://localhost:1313" class="iconfont icon-google" title="google"></a>
      <a href="http://localhost:1313" class="iconfont icon-github" title="github"></a>
      <a href="http://localhost:1313" class="iconfont icon-weibo" title="weibo"></a>
      <a href="http://localhost:1313" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="http://localhost:1313" class="iconfont icon-douban" title="douban"></a>
      <a href="http://localhost:1313" class="iconfont icon-pocket" title="pocket"></a>
      <a href="http://localhost:1313" class="iconfont icon-tumblr" title="tumblr"></a>
      <a href="http://localhost:1313" class="iconfont icon-instagram" title="instagram"></a>
      <a href="http://localhost:1313" class="iconfont icon-gitlab" title="gitlab"></a>
      <a href="http://localhost:1313" class="iconfont icon-bilibili" title="bilibili"></a>
  <a href="http://localhost:1313/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2017 - 
    2021<span class="heart"><i class="iconfont icon-heart"></i></span><span>mjiang</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c12618f9a600c40bd024996677e951e64d3487006775aeb22e200c990006c5c7.js"></script>








</body>
</html>
